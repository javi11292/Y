<script>
	import { createBrowserClient } from "@supabase/ssr";
	import { navigate } from "astro:transitions/client";

	const supabase = createBrowserClient(
		import.meta.env.PUBLIC_SUPABASE_URL,
		import.meta.env.PUBLIC_SUPABASE_URL,
	);

	const { data } = await supabase.auth.getSession();

	if (data.session?.user) {
		navigate("/");
	}
</script>
